{% extends "global/Page.html" %}
{% load otree static %}


{% block title %}
{% endblock %}

{% block scripts %}
<script>
    //Get variables needed for our popout
    var travelYes = document.getElementById('travelYes');
    var divYes = document.getElementById('divYes');
    var travelNo = document.getElementById('merkelNo');
    var divNo = document.getElementById('divNo');

    // TIME: we are going to write the time the participant entered the page to a variable
    var time = new Date(); //creates the current time
    var time = time.toISOString(); //to.ISOString() ensures we get miliseconds

    // POPOUT: we are going to create a popout function that displays text only if some value is given in another question
    function popout() {
    var travelYes = document.getElementById('travelYes');
    var divYes = document.getElementById('divYes');
    
    divYes.style.display = travelYes.checked ? "block" : "none";
}
    // TIME
    document.getElementById('time_popout').value = time; //we get the element (variable) we want to write the value to
    //a sidenote: the time zone might be different in your localhost as in real life
</script>
{% endblock %}

{% block content %}
<br>
<h2> General Questions </h2>
    <hr>
    <p>This is a demo page. Whatever a demo page is. However, let's first ask some general questions!</p>

    <p>NOTE: These are a mandatory question!</p>

    <!-- This is the most basic way of implementing an input field -->
    {{ formfield "age_question"}}

    <!-- This is the most basic way of implementing error handling -->
    {{ formfield_errors 'age_question' }}

    {{ formfield 'gender_question' }}


<input id="time_popout" type="hidden" name="time_popout" />

<div>
    <b>Have you ever travelled before?</b>
    <div><input id="travelYes" type="radio" name="has_travelled" value=True onclick="popout()" /> Yes</div>
    <div><input id="travelNo" type="radio" name="has_travelled" value=False onclick="popout()" /> No</div>
</div>
    
    <!-- question asked if player has travelled before -->
<div id="divYes" style="display: none">
    {{ formfield 'travel_destination_popout' }}
</div>

<hr>
   <button class="otree-btn-next btn btn-primary next-button otree-next-button">
    Next
</button>

{% endblock %}